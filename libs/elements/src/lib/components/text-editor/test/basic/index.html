<!DOCTYPE html>
<html dir="ltr">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=5.0" />
    <title>Text Editor</title>

    <!-- ionic -->
    <link href="/vendors/ionic/css/ionic.bundle.css" rel="stylesheet" />
    <script type="module" src="/vendors/ionic/dist/ionic/ionic.esm.js"></script>
    <script nomodule src="/vendors/ionic/dist/ionic/ionic.js"></script>

    <!-- image-storage -->
    <script src="/vendors/image-storage/bundles/aiao-image-storage.umd.js"></script>
    <script src="/vendors/image-storage/bundles/aiao-image-storage-adapters-aliyun.umd.js"></script>

    <!-- aiao-elements -->
    <script type="module" src="/dist/aiao-elements/aiao-elements.esm.js"></script>
    <script nomodule src="/dist/aiao-elements/aiao-elements.js"></script>

    <!-- test -->
    <link href="/scripts/testing/styles.css" rel="stylesheet" />
    <script src="/scripts/testing/scripts.js"></script>
  </head>
  <body>
    <button onClick="editor.action('bold')">bold</button>
    <button onClick="editor.action('italic')">italic</button>
    <button onClick="editor.aciton('underline')">underline</button>
    <button onClick="editor.action('strikethrough')">strikethrough</button>
    <button onClick="editor.action('heading',1)">H1</button>
    <button onClick="editor.action('heading',2)">H2</button>
    <button onClick="editor.action('heading',3)">H3</button>
    <button onClick="editor.action('paragraph')">paragraph</button>
    <button onClick="editor.action('quote')">quote</button>
    <button onClick="editor.action('insertOrderedList')">insertOrderedList</button>
    <button onClick="editor.action('insertUnorderedList')">insertUnorderedList</button>
    <button onClick="editor.action('insertHorizontalRule')">insertHorizontalRule</button>
    <button onClick="editor.action('createLink','https://baidu.com')">createLink</button>
    <button onClick="editor.action('insertImage','https://www.baidu.com/img/bd_logo1.png')">insertImage</button>
    <button onClick="editor.action('backColor','#333')">backColor</button>
    <button onClick="editor.action('foreColor','red')">foreColor</button>
    <button onClick="editor.action('undo')">undo</button>
    <button onClick="editor.action('redo')">redo</button>
    <button onClick="insertHTML()">insertHTML</button>
    <button onClick="editor.saveSelection()">saveSelection</button>
    <button onClick="editor.restoreSelection()">restoreSelection</button>
    <aiao-text-editor id="editor"></aiao-text-editor>
    <div id="element"></div>
    <pre id="html" style="white-space: pre-wrap;"></pre>
    <pre id="state" style="white-space: pre-wrap;"></pre>
  </body>
  <script>
    const editor = document.getElementById('editor');
    const html = document.getElementById('html');
    const state = document.getElementById('state');
    const element = document.getElementById('element');
    // editor.element = element;
    editor.value = '<p>简单文本编辑器</p>';
    editor.addEventListener('aiaoChange', e => {
      html.textContent = e.detail.value;
    });

    editor.addEventListener('aiaoStateChange', e => {
      state.textContent = JSON.stringify(e.detail, null, 2);
    });

    function insertHTML() {
      editor.action('insertHTML', `<h1>html</h1><h2>123123</h2>`);
    }
  </script>
</html>
