<!DOCTYPE html>
<html dir="ltr">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=5.0" />
    <title>Stencil Component Starter</title>

    <!-- image-storage -->
    <script src="/vendors/image-storage/bundles/aiao-image-storage.umd.js"></script>
    <script src="/vendors/image-storage/bundles/aiao-image-storage-adapters-aliyun.umd.js"></script>

    <!-- aiao-elements -->
    <script type="module" src="/dist/aiao-elements/aiao-elements.esm.js"></script>
    <script nomodule src="/dist/aiao-elements/aiao-elements.js"></script>

    <!-- test -->
    <link href="/scripts/testing/styles.css" rel="stylesheet" />
    <script src="/scripts/testing/scripts.js"></script>
  </head>
  <body>
    <button onClick="editor.bold()">粗体</button>
    <button onClick="editor.italic()">斜体</button>
    <button onClick="editor.underline()">下划线</button>
    <button onClick="editor.strikethrough()">删除线</button>
    <button onClick="editor.heading(1)">H1</button>
    <button onClick="editor.heading(2)">H2</button>
    <button onClick="editor.heading(3)">H3</button>
    <button onClick="editor.paragraph()">paragraph</button>
    <button onClick="editor.quote()">quote</button>
    <button onClick="editor.olist()">olist</button>
    <button onClick="editor.ulist()">ulist</button>
    <button onClick="editor.line()">line</button>
    <button onClick="editor.link('https://baidu.com')">link</button>
    <button onClick="editor.image('https://www.baidu.com/img/bd_logo1.png')">插入图片</button>
    <button onClick="editor.backColor('#333')">背景颜色</button>
    <button onClick="editor.foreColor('red')">字体颜色</button>
    <button onClick="editor.undo()">还原</button>
    <button onClick="editor.redo()">重做</button>
    <button onClick="insertHTML()">插入html</button>
    <button onClick="editor.saveSelection()">记录指针位置</button>
    <button onClick="editor.restoreSelection()">还原指针</button>
    <aiao-text-editor id="editor"></aiao-text-editor>
    <div id="element"></div>
    <pre id="html" style="white-space: pre-wrap;"></pre>
    <pre id="state" style="white-space: pre-wrap;"></pre>
  </body>
  <script>
    const editor = document.getElementById('editor');
    const html = document.getElementById('html');
    const state = document.getElementById('state');
    const element = document.getElementById('element');
    editor.element = element;
    editor.value = '<p>输入文字</p>';
    editor.addEventListener('mlabChange', e => {
      html.textContent = e.detail.value;
    });

    editor.addEventListener('mlabStateChange', e => {
      state.textContent = JSON.stringify(e.detail, null, 2);
    });

    function insertHTML() {
      editor.insertHTML(`<h1>html</h1><h2>123123</h2>`);
    }
  </script>
</html>
